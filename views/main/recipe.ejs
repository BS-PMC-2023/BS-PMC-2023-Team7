<div onload="changeColor()" class="flex flex-1 justify-center">
  <div class="flex flex-1 lg:max-w-4xl xl:max-w-6xl py-4">
    <div class="flex flex-col flex-1 justify-center"> <!-- Vertical Slice -->
      <div class="flex flex-1 flex-col">
        <div id="background" class="bg-coffee flex flex-col p-6 font-normal text-lg w-full m-2 rounded-md">
          <div class="flex items-center">
            <p class="pointer-events-none font-bold leading-tight sm:text-lg block truncate text-espresso"><%= recipe.user.userName %></p>
            <%if (recipe.user.role > 1){%>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-espresso items-center pl-1"
              >
                <path
                  d="M10.2426 16.3137L6 12.071L7.41421 10.6568L10.2426 13.4853L15.8995 7.8284L17.3137 9.24262L10.2426 16.3137Z"
                  fill="currentColor"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z"
                  fill="currentColor"
                />
              </svg>
            <%}%>
          </div>
          <p class="text-black text-3xl text-bold"><%= recipe.recipeName %></p>
          <div class="flex px-6 pt-4">
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[0] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[1] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[2] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
          </div>
          <p class="pt-8 text-2xl">
            Ingredients:
          </p>
          <div class="pt-2 flex">
            <textarea readonly class="block px-4 py-3 w-full h-48 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm"><%= recipe.ingredients %></textarea>
          </div>
          <p class="pt-8 text-2xl">
            Instructions:
          </p>
          <div class="pt-2 flex">
            <textarea readonly class="block px-4 py-3 w-full h-56 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm"><%= recipe.instructions %></textarea>
          </div>
          <p class="pt-8 text-2xl pb-2">
            Allergies:
          </p>
          <input readonly value="<%= recipe.allergies %>" class="block px-4 py-3 w-full h-16 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
          </input>
          <p class="pt-8 text-2xl">
            Nutritions:
          </p>
          <div class="grid grid-cols-6 pt-4 gap-4 items-center">
            <p>Energy (kcal):</p>
            <input readonly type="text" value="<%= recipe.nutritions.energy %>" class="px-4 py-3 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Fatty acids (kg):</p>
            <input readonly type="text" value="<%= recipe.nutritions.fattyAcids %>" placeholder="0" class="px-4 py-3 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Sodium (kg):</p>
            <input readonly type="text" value="<%= recipe.nutritions.sodium %>" class="px-4 py-3 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Sugar (kg):</p>
            <input readonly type="text" value="<%= recipe.nutritions.sugar %>" class="px-4 py-3 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Protein (kg):</p>
            <input readonly type="text" value="<%= recipe.nutritions.protein %>" class="px-4 py-3 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
          </div>
          <p class="pt-8 text-2xl">
            Rating:
          </p>
          <div class="flex items-center mt-3 mb-3">
            <svg aria-hidden="true" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>First star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            <svg aria-hidden="true" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Second star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            <svg aria-hidden="true" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Third star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            <svg aria-hidden="true" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Fourth star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            <svg aria-hidden="true" class="w-5 h-5 text-espresso" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Fifth star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            <p class="ml-2 text-sm font-medium text-latte">4.95 out of 5</p>
          </div>
          <p class="text-sm font-bold text-espresso">1,745 global ratings</p>
          <div class="flex items-center mt-4">
              <span class="text-sm font-medium text-latte">5 star</span>
              <div class="w-2/4 h-5 mx-4 rounded bg-espresso">
                  <div class="h-5 bg-yellow-400 rounded" style="width: 70%"></div>
              </div>
              <span class="text-sm font-medium text-latte">70%</span>
          </div>
          <div class="flex items-center mt-4">
              <span class="text-sm font-medium text-latte">4 star</span>
              <div class="w-2/4 h-5 mx-4 bg-espresso rounded">
                  <div class="h-5 bg-yellow-400 rounded" style="width: 17%"></div>
              </div>
              <span class="text-sm font-medium text-latte">17%</span>
          </div>
          <div class="flex items-center mt-4">
              <span class="text-sm font-medium text-latte">3 star</span>
              <div class="w-2/4 h-5 mx-4 bg-espresso rounded">
                  <div class="h-5 bg-yellow-400 rounded" style="width: 8%"></div>
              </div>
              <span class="text-sm font-medium text-latte">8%</span>
          </div>
          <div class="flex items-center mt-4">
              <span class="text-sm font-medium text-latte">2 star</span>
              <div class="w-2/4 h-5 mx-4 bg-espresso rounded">
                  <div class="h-5 bg-yellow-400 rounded" style="width: 4%"></div>
              </div>
              <span class="text-sm font-medium text-latte">4%</span>
          </div>
          <div class="flex items-center mt-4">
              <span class="text-sm font-medium text-latte">1 star</span>
              <div class="w-2/4 h-5 mx-4 bg-espresso rounded">
                  <div class="h-5 bg-yellow-400 rounded" style="width: 1%"></div>
              </div>
              <span class="text-sm font-medium text-latte">1%</span>
          </div> 
        </div>
        <div class="flex justify-end px-2 pt-2 pb-12">
          <a href="/home"><button class="bg-espresso mx-2 px-4 rounded-full font-bold text-latte uppercase py-2 transition-all hover:drop-shadow-xl hover:bg-pistachio hover:text-espresso hover:scale-105 active:scale-90">Close Recipe
          </button></a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const bg = document.querySelector('#background');
  const color = "<%= recipe.color %>";
  if (color === 'original') {
    bg.classList.remove(`bg-orange-300`, 'bg-cyan-300', 'bg-fuchsia-300');
    bg.classList.add('bg-coffee');
  } else if (color === 'tasty') 
  {
    bg.classList.remove('bg-coffee', 'bg-cyan-300', 'bg-fuchsia-300');
    bg.classList.add('bg-orange-300');
  } else if (color === 'cold') 
  {
    bg.classList.remove('bg-coffee', `bg-orange-300`, 'bg-fuchsia-300');
    bg.classList.add(`bg-cyan-300`);
  } else if (color === 'sweet') 
  {
    bg.classList.remove('bg-coffee', `bg-orange-300`, 'bg-cyan-300');
    bg.classList.add(`bg-fuchsia-300`);
  }
</script>