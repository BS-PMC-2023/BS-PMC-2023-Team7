<div onload="changeColor()" class="flex flex-1 justify-center">
  <div class="flex flex-1 lg:max-w-4xl xl:max-w-6xl py-4">
    <div class="flex flex-col flex-1 justify-center"> <!-- Vertical Slice -->
      <div class="flex flex-1 flex-col">
        <div id="background" class="bg-coffee flex flex-col p-6 font-normal text-lg w-full m-2 rounded-md">
          <div class="flex items-center">
            <p class="pointer-events-none font-bold leading-tight sm:text-lg block truncate text-espresso"><%= recipe.user.userName %></p>
            <%if (recipe.user.role.toLowerCase()=="expert"){%>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-espresso items-center pl-1"
              >
                <path
                  d="M10.2426 16.3137L6 12.071L7.41421 10.6568L10.2426 13.4853L15.8995 7.8284L17.3137 9.24262L10.2426 16.3137Z"
                  fill="currentColor"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z"
                  fill="currentColor"
                />
              </svg>
            <%}%>
          </div>
          <p class="text-black text-3xl text-bold"><%= recipe.recipeName %></p>
          <div class="flex px-6 pt-4">
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[0] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[1] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
            <button class="group block mx-2 w-full aspect-square cursor-pointer text-latte rounded-xl border border-latte overflow-hidden drop-shadow-lg transition-all hover:drop-shadow-xl hover:scale-105 active:scale-90">
              <img src="<%= recipe.recipeImages[2] %>" class="rounded-xl w-full aspect-square object-cover pointer-events-none" />
              <span class="sr-only">View details</span>
            </button>
          </div>
          <p class="pt-8 text-2xl">
            Ingredients:
          </p>
          <div class="pt-2 flex">
            <textarea readonly class="block px-4 py-3 w-full h-48 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm"><%= recipe.ingredients %></textarea>
          </div>
          <p class="pt-8 text-2xl">
            Instructions:
          </p>
          <div class="pt-2 flex">
            <textarea readonly class="block px-4 py-3 w-full h-56 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm"><%= recipe.instructions %></textarea>
          </div>
          <p class="pt-8 text-2xl pb-2">
            Allergies:
          </p>
          <input readonly placeholder="None" class="block px-4 py-3 w-full h-16 font-bold transition-all rounded-md placeholder-latte text-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
          </input>
          <p class="pt-8 text-2xl">
            Nutritions (g):
          </p>
          <div class="grid grid-cols-10 pt-4 gap-4 items-center">
            <p>Energy:</p>
            <input readonly type="text" placeholder="0" class="px-4 py-3 w-20 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Fatty acids:</p>
            <input readonly type="text" placeholder="0" class="px-4 py-3 w-20 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Sodium:</p>
            <input readonly type="text" placeholder="0" class="px-4 py-3 w-20 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Sugar:</p>
            <input readonly type="text" placeholder="0" class="px-4 py-3 w-20 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
            <p>Protein:</p>
            <input readonly type="text" placeholder="0" class="px-4 py-3 w-20 font-bold transition-all rounded-md text-latte placeholder-latte bg-espresso border border-latte hover:border-pistachio hover:text-pistachio hover:placeholder-pistachio focus:border-pistachio focus:text-pistachio focus:placeholder-pistachio focus:ring-0 outline-none focus:outline-none text-sm">
          </div>
        </div>
        <div class="flex justify-end px-2 pt-2 pb-12">
          <a href="/home"><button class="bg-espresso mx-2 px-4 rounded-full font-bold text-latte uppercase py-2 transition-all hover:drop-shadow-xl hover:bg-pistachio hover:text-espresso hover:scale-105 active:scale-90">Close Recipe
          </button></a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const bg = document.querySelector('#background');
  const color = "<%= recipe.color %>";
  if (color === 'original') {
    bg.classList.remove(`bg-orange-300`, 'bg-cyan-300', 'bg-fuchsia-300');
    bg.classList.add('bg-coffee');
  } else if (color === 'tasty') 
  {
    bg.classList.remove('bg-coffee', 'bg-cyan-300', 'bg-fuchsia-300');
    bg.classList.add('bg-orange-300');
  } else if (color === 'cold') 
  {
    bg.classList.remove('bg-coffee', `bg-orange-300`, 'bg-fuchsia-300');
    bg.classList.add(`bg-cyan-300`);
  } else if (color === 'sweet') 
  {
    bg.classList.remove('bg-coffee', `bg-orange-300`, 'bg-cyan-300');
    bg.classList.add(`bg-fuchsia-300`);
  }
</script>